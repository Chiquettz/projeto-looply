
@import url('https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800;900&family=DM+Sans:wght@300;400;500&display=swap');

/* ─── THEME ─── */
[data-theme="dark"]{
  --bg:#13112b;--bg2:#1b1840;--bg3:#24204e;--card:#1e1b44;
  --border:#2d2a60;--text:#e8e4ff;--muted:#8a84b8;
  --shadow:rgba(0,0,0,.55);--inp:#24204e;--overlay:rgba(12,10,28,.92);
}
[data-theme="light"]{
  --bg:#f3f7f3;--bg2:#ffffff;--bg3:#e8f5e9;--card:#ffffff;
  --border:#c8e6c9;--text:#1a2e1a;--muted:#5a7a5a;
  --shadow:rgba(0,0,0,.10);--inp:#e8f5e9;--overlay:rgba(220,240,220,.95);
}
:root{
  --green:#5DC264;--glow:#5DC26450;--gdim:#5DC26428;--gdark:#3d9442;
  --blue:#5B6BE8;--bglow:#5B6BE850;--bdim:#5B6BE828;
  --amber:#f59e0b;--red:#ef4444;
}

/* ─── RESET & BASE ─── */
*{margin:0;padding:0;box-sizing:border-box;}
html{scroll-behavior:smooth;}
body{
  font-family:"DM Sans",sans-serif;background:var(--bg);color:var(--text);
  min-height:100vh;overflow-x:hidden;
  opacity:0;transform:translateY(16px);
  transition:opacity .4s cubic-bezier(.22,1,.36,1),transform .4s cubic-bezier(.22,1,.36,1),background .3s,color .3s;
}
body.ready{opacity:1;transform:none;}
body.exiting{opacity:0!important;transform:translateY(-10px)!important;transition:opacity .2s ease,transform .2s ease!important;}
::-webkit-scrollbar{width:5px;}
::-webkit-scrollbar-track{background:var(--bg2);}
::-webkit-scrollbar-thumb{background:var(--border);border-radius:3px;}

/* ─── NAV ─── */
nav{
  position:fixed;top:0;left:0;right:0;z-index:200;
  background:var(--bg2);backdrop-filter:blur(14px);
  border-bottom:1px solid var(--border);height:64px;
  padding:0 max(1.5rem,env(safe-area-inset-left));
  display:flex;align-items:center;justify-content:space-between;gap:1rem;
  box-shadow:0 2px 16px var(--shadow);transition:background .3s,border-color .3s;
}
.nav-logo{display:flex;align-items:center;cursor:pointer;flex-shrink:0;}
.nav-logo img{height:46px;width:auto;mix-blend-mode:screen;}
[data-theme="light"] .nav-logo{background:#1c1640;border-radius:10px;padding:2px 8px;}
.nav-links{display:flex;align-items:center;gap:.25rem;flex:1;justify-content:center;}
.nav-link{
  color:var(--muted);cursor:pointer;font-size:.875rem;font-weight:600;
  padding:.4rem .85rem;border-radius:8px;transition:all .2s;white-space:nowrap;
  border:none;background:none;font-family:"DM Sans",sans-serif;
}
.nav-link:hover{color:var(--green);background:var(--gdim);}
.nav-link.active{color:var(--green);background:var(--gdim);}
.nav-right{display:flex;align-items:center;gap:.5rem;flex-shrink:0;}
.xp-badge{
  display:flex;align-items:center;gap:.4rem;background:var(--bg3);
  border:1px solid var(--gdim);border-radius:20px;padding:.3rem .9rem;
  font-size:.82rem;font-weight:700;color:var(--green);white-space:nowrap;
}
.xp-dot{width:7px;height:7px;border-radius:50%;background:var(--green);animation:pdot 2s infinite;}
@keyframes pdot{0%,100%{opacity:1;transform:scale(1)}50%{opacity:.5;transform:scale(.7)}}
.btn-sm{
  background:var(--green);color:#0c1a0c;border:none;border-radius:9px;
  padding:.4rem 1rem;font-family:"Nunito",sans-serif;font-weight:800;
  font-size:.82rem;cursor:pointer;transition:transform .15s,opacity .2s;white-space:nowrap;
}
.btn-sm:hover{opacity:.88;transform:translateY(-1px);}
.btn-outline{
  background:transparent;color:var(--text);border:1.5px solid var(--border);
  border-radius:9px;padding:.4rem 1rem;font-family:"DM Sans",sans-serif;
  font-weight:600;font-size:.82rem;cursor:pointer;
  transition:border-color .2s,color .2s,background .2s;white-space:nowrap;
}
.btn-outline:hover{border-color:var(--blue);color:var(--blue);background:var(--bdim);}
.theme-btn{
  width:36px;height:36px;border-radius:50%;background:var(--bg3);
  border:1.5px solid var(--border);display:flex;align-items:center;
  justify-content:center;cursor:pointer;font-size:1rem;
  transition:transform .25s,border-color .2s;flex-shrink:0;
}
.theme-btn:hover{border-color:var(--amber);transform:rotate(22deg);}
.hamburger{
  display:none;flex-direction:column;justify-content:center;gap:5px;
  cursor:pointer;background:none;border:none;width:36px;height:36px;flex-shrink:0;
}
.hamburger span{display:block;width:22px;height:2px;background:var(--text);border-radius:2px;margin:0 auto;transition:all .3s;}
.hamburger.open span:nth-child(1){transform:translateY(7px) rotate(45deg);}
.hamburger.open span:nth-child(2){opacity:0;transform:scaleX(0);}
.hamburger.open span:nth-child(3){transform:translateY(-7px) rotate(-45deg);}
.mob-menu{
  display:none;position:fixed;top:64px;left:0;right:0;z-index:199;
  background:var(--bg2);border-bottom:1px solid var(--border);
  flex-direction:column;align-items:center;gap:.25rem;
  padding:1rem;box-shadow:0 8px 24px var(--shadow);transition:background .3s;
}
.mob-menu.open{display:flex;}
.mob-menu .nav-link{width:100%;max-width:340px;text-align:center;font-size:.95rem;padding:.6rem;}
.mob-divider{width:100%;max-width:340px;height:1px;background:var(--border);margin:.3rem 0;}
.mob-btns{display:flex;gap:.6rem;justify-content:center;width:100%;max-width:340px;}
.mob-btns button{flex:1;}

/* ─── AUTH MODAL ─── */
.overlay{
  display:none;position:fixed;inset:0;z-index:300;
  background:var(--overlay);backdrop-filter:blur(10px);
  align-items:center;justify-content:center;padding:1rem;
}
.overlay.open{display:flex;}
.modal{
  background:var(--bg2);border:1px solid var(--border);border-radius:22px;
  max-width:440px;width:100%;padding:2rem;position:relative;
  animation:su .3s ease;box-shadow:0 24px 64px var(--shadow);
}
@keyframes su{from{transform:translateY(28px);opacity:0}to{transform:none;opacity:1}}
.modal-x{
  position:absolute;top:.9rem;right:.9rem;width:30px;height:30px;
  border-radius:50%;background:var(--bg3);border:1px solid var(--border);
  color:var(--muted);cursor:pointer;display:flex;align-items:center;
  justify-content:center;font-size:.85rem;transition:color .2s;
}
.modal-x:hover{color:var(--text);}
.modal-logo{text-align:center;margin-bottom:.9rem;}
.modal-logo img{height:62px;mix-blend-mode:screen;}
[data-theme="light"] .modal-logo{display:inline-block;background:#1c1640;border-radius:14px;padding:.5rem .8rem;margin:0 auto .9rem;}
.modal h3{font-family:"Nunito",sans-serif;font-size:1.4rem;font-weight:900;text-align:center;margin-bottom:.25rem;}
.modal-sub{text-align:center;color:var(--muted);font-size:.86rem;margin-bottom:1.4rem;}
.fg{margin-bottom:.9rem;}
.fg label{display:block;font-size:.75rem;color:var(--muted);margin-bottom:.35rem;font-weight:700;text-transform:uppercase;letter-spacing:.06em;}
.fg input{
  width:100%;background:var(--inp);border:1.5px solid var(--border);
  border-radius:10px;padding:.7rem 1rem;color:var(--text);
  font-family:"DM Sans",sans-serif;font-size:.9rem;transition:border-color .2s;
}
.fg input:focus{outline:none;border-color:var(--green);}
.btn-full{
  width:100%;background:linear-gradient(135deg,var(--green),var(--gdark));
  color:#0c1a0c;border:none;border-radius:12px;padding:.8rem;
  font-family:"Nunito",sans-serif;font-weight:900;font-size:1rem;
  cursor:pointer;margin-top:.4rem;box-shadow:0 4px 16px var(--glow);
  transition:opacity .2s,transform .15s;
}
.btn-full:hover{opacity:.9;transform:translateY(-1px);}
.a-switch{text-align:center;margin-top:.9rem;font-size:.84rem;color:var(--muted);}
.a-switch span{color:var(--green);cursor:pointer;font-weight:700;}
.a-err{color:#ff5e5e;font-size:.78rem;margin-top:.3rem;display:none;}
.a-err.show{display:block;}

/* ─── TOAST ─── */
.toast{
  position:fixed;bottom:2rem;left:50%;transform:translateX(-50%) translateY(120px);
  background:var(--card);border:1.5px solid var(--green);border-radius:14px;
  padding:.75rem 1.4rem;color:var(--green);font-weight:700;font-size:.86rem;
  z-index:500;transition:transform .4s cubic-bezier(.22,1,.36,1);
  white-space:nowrap;box-shadow:0 8px 28px var(--shadow);
}
.toast.show{transform:translateX(-50%) translateY(0);}

/* ─── PAGE HEADERS ─── */
.pg-pad{padding-top:64px;min-height:100vh;}
.pg-hdr{max-width:1100px;margin:0 auto;padding:2.2rem 1.5rem 1rem;}
.pg-hdr h2{font-family:"Nunito",sans-serif;font-size:clamp(1.5rem,3vw,2.2rem);font-weight:900;letter-spacing:-.5px;margin-bottom:.25rem;}
.pg-hdr p{color:var(--muted);}
.back-btn{
  display:inline-flex;align-items:center;gap:.4rem;color:var(--muted);
  font-size:.83rem;cursor:pointer;border:none;background:none;
  font-family:"DM Sans",sans-serif;margin-bottom:1.2rem;transition:color .2s;padding:0;
}
.back-btn:hover{color:var(--green);}

/* ─── HERO (index) ─── */
#landing{padding-top:64px;}
.hero{
  min-height:calc(100vh - 64px);display:flex;flex-direction:column;
  align-items:center;justify-content:center;text-align:center;
  padding:3rem 1.5rem 4rem;position:relative;overflow:hidden;
}
canvas#ptc{position:absolute;inset:0;pointer-events:none;z-index:0;}
.hero-gfx{position:absolute;inset:0;pointer-events:none;z-index:0;overflow:hidden;}
.orb{position:absolute;border-radius:50%;filter:blur(80px);animation:orb-drift 12s ease-in-out infinite;}
.orb1{width:420px;height:420px;background:radial-gradient(var(--gdim),transparent 70%);top:-10%;left:-5%;}
.orb2{width:380px;height:380px;background:radial-gradient(var(--bdim),transparent 70%);bottom:-10%;right:-5%;animation-delay:4s;}
.orb3{width:300px;height:300px;background:radial-gradient(var(--gdim),transparent 70%);top:40%;left:60%;animation-delay:8s;}
@keyframes orb-drift{0%,100%{transform:translate(0,0)}25%{transform:translate(30px,-20px)}50%{transform:translate(-20px,30px)}75%{transform:translate(20px,15px)}}
.gring{position:absolute;border-radius:50%;border:1px solid;pointer-events:none;top:50%;left:50%;animation:gring 5s ease-in-out infinite;}
.gring1{width:320px;height:320px;border-color:var(--gdim);transform:translate(-50%,-50%);}
.gring2{width:520px;height:520px;border-color:var(--bdim);transform:translate(-50%,-50%);animation-delay:1.5s;}
.gring3{width:720px;height:720px;border-color:#5DC26412;transform:translate(-50%,-50%);animation-delay:3s;}
@keyframes gring{0%,100%{opacity:.4;scale:1}50%{opacity:.9;scale:1.04}}
.hero-content{position:relative;z-index:1;display:flex;flex-direction:column;align-items:center;}
.hero-logo-wrap{margin-bottom:1.6rem;}
.hero-logo-wrap img{height:150px;width:auto;mix-blend-mode:screen;animation:float 4s ease-in-out infinite;}
[data-theme="light"] .hero-logo-wrap{background:#1c1640;border-radius:24px;padding:.8rem 1rem;}
@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-14px)}}
.eyebrow{
  display:inline-flex;align-items:center;gap:.5rem;
  background:var(--bg3);border:1px solid var(--border);
  border-radius:20px;padding:.28rem 1rem;margin-bottom:1.4rem;
  font-size:.72rem;color:var(--green);letter-spacing:.12em;text-transform:uppercase;font-weight:700;
}
.eyebrow .dot2{width:6px;height:6px;background:var(--green);border-radius:50%;}
h1{font-family:"Nunito",sans-serif;font-size:clamp(2.2rem,5.5vw,4.6rem);font-weight:900;line-height:1.08;letter-spacing:-1.5px;margin-bottom:1.1rem;}
h1 .g{color:var(--green);}
h1 .b{color:var(--blue);}
.hero-sub{max-width:530px;color:var(--muted);font-size:1.02rem;line-height:1.75;margin-bottom:2.2rem;}
.hero-ctas{display:flex;gap:1rem;flex-wrap:wrap;justify-content:center;margin-bottom:3.5rem;}
.btn-primary{
  background:linear-gradient(135deg,var(--green),var(--gdark));color:#0c1a0c;
  border:none;border-radius:14px;padding:.85rem 2.2rem;
  font-family:"Nunito",sans-serif;font-weight:900;font-size:1rem;
  cursor:pointer;box-shadow:0 0 28px var(--glow);transition:transform .2s,box-shadow .2s;
}
.btn-primary:hover{transform:translateY(-3px);box-shadow:0 0 50px var(--glow);}
.btn-secondary{
  background:transparent;color:var(--text);border:1.5px solid var(--border);
  border-radius:14px;padding:.85rem 2.2rem;font-family:"DM Sans",sans-serif;
  font-weight:600;font-size:1rem;cursor:pointer;transition:all .2s;
}
.btn-secondary:hover{border-color:var(--blue);color:var(--blue);background:var(--bdim);}
.stats-row{
  display:flex;justify-content:center;align-items:stretch;
  background:var(--card);border:1px solid var(--border);border-radius:18px;
  overflow:hidden;width:100%;max-width:600px;
}
.stat{flex:1;text-align:center;padding:1.2rem .8rem;border-right:1px solid var(--border);}
.stat:last-child{border-right:none;}
.stat-num{font-family:"Nunito",sans-serif;font-size:1.5rem;font-weight:900;color:var(--green);}
.stat-lbl{font-size:.7rem;color:var(--muted);margin-top:.12rem;white-space:nowrap;}

/* ─── SECTIONS (index) ─── */
.section{padding:5rem 1.5rem;max-width:1100px;margin:0 auto;}
.sec-hdr{text-align:center;margin-bottom:2.8rem;}
.sec-title{font-family:"Nunito",sans-serif;font-size:clamp(1.7rem,3.5vw,2.5rem);font-weight:900;letter-spacing:-.5px;margin-bottom:.6rem;}
.sec-sub{color:var(--muted);font-size:.93rem;max-width:500px;margin:0 auto;}
.feat-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:1.2rem;}
.feat-card{
  background:var(--card);border:1px solid var(--border);border-radius:18px;
  padding:1.6rem;position:relative;overflow:hidden;
  transition:border-color .3s,transform .3s,box-shadow .3s;
}
.feat-card::before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,var(--green),var(--blue));opacity:0;transition:opacity .3s;}
.feat-card:hover{border-color:var(--gdim);transform:translateY(-5px);box-shadow:0 14px 40px var(--shadow);}
.feat-card:hover::before{opacity:1;}
.feat-ic{width:48px;height:48px;border-radius:14px;background:var(--bg3);border:1px solid var(--border);display:flex;align-items:center;justify-content:center;font-size:1.4rem;margin-bottom:1rem;}
.feat-card h3{font-family:"Nunito",sans-serif;font-size:.98rem;font-weight:800;margin-bottom:.35rem;}
.feat-card p{color:var(--muted);font-size:.84rem;line-height:1.6;}
.how-wrap{display:flex;flex-direction:column;align-items:center;}
.steps{width:100%;max-width:640px;display:flex;flex-direction:column;gap:1rem;}
.step{
  display:flex;align-items:flex-start;gap:1.2rem;
  background:var(--card);border:1px solid var(--border);border-radius:14px;padding:1.3rem;
  transition:border-color .3s,transform .3s;
}
.step:hover{border-color:var(--gdim);transform:translateX(5px);}
.snum{
  min-width:36px;height:36px;background:linear-gradient(135deg,var(--green),var(--gdark));
  color:#0c1a0c;border-radius:50%;display:flex;align-items:center;justify-content:center;
  font-family:"Nunito",sans-serif;font-weight:900;font-size:.88rem;flex-shrink:0;
}
.step h4{font-family:"Nunito",sans-serif;font-size:.97rem;font-weight:800;margin-bottom:.2rem;}
.step p{color:var(--muted);font-size:.84rem;line-height:1.5;}
.how-cta{margin-top:2.5rem;}

/* ─── FOOTER ─── */
footer{background:var(--bg2);border-top:1px solid var(--border);padding:3rem 1.5rem 1.5rem;transition:background .3s;}
.ft-inner{max-width:1100px;margin:0 auto;}
.ft-top{display:grid;grid-template-columns:1.5fr 1fr 1fr;gap:2.5rem;margin-bottom:2rem;align-items:start;}
.ft-brand img{height:50px;margin-bottom:.8rem;display:block;mix-blend-mode:screen;}
[data-theme="light"] .ft-brand-wrap{display:inline-block;background:#1c1640;border-radius:12px;padding:.3rem .6rem;margin-bottom:.7rem;}
.ft-brand p{color:var(--muted);font-size:.83rem;line-height:1.6;max-width:230px;}
.ft-col h4{font-family:"Nunito",sans-serif;font-weight:900;font-size:.85rem;margin-bottom:.85rem;text-transform:uppercase;letter-spacing:.06em;}
.ft-col a{display:block;color:var(--muted);font-size:.83rem;margin-bottom:.4rem;text-decoration:none;cursor:pointer;transition:color .2s;}
.ft-col a:hover{color:var(--green);}
.ft-bottom{border-top:1px solid var(--border);padding-top:1.2rem;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:.5rem;}
.ft-bottom p{color:var(--muted);font-size:.76rem;}
.eco-badge{display:flex;align-items:center;gap:.3rem;font-size:.74rem;color:var(--green);font-weight:700;}

/* ─── TRAILS PAGE ─── */
.trails-grid{max-width:1100px;margin:1.5rem auto 0;padding:0 1.5rem 4rem;display:grid;grid-template-columns:repeat(3,1fr);gap:1.3rem;}
.trail-card{
  background:var(--card);border:1px solid var(--border);border-radius:18px;
  padding:1.5rem;cursor:pointer;position:relative;overflow:hidden;
  transition:border-color .3s,transform .3s,box-shadow .3s;
}
.trail-card::after{content:"";position:absolute;inset:0;background:linear-gradient(135deg,var(--gdim),transparent);opacity:0;transition:opacity .3s;pointer-events:none;}
.trail-card:hover{border-color:var(--gdim);transform:translateY(-5px);box-shadow:0 12px 36px var(--shadow);}
.trail-card:hover::after{opacity:1;}
.t-tag{display:inline-block;background:var(--bg3);border:1px solid var(--border);border-radius:6px;padding:.1rem .5rem;font-size:.65rem;color:var(--muted);text-transform:uppercase;letter-spacing:.08em;margin-bottom:.8rem;}
.trail-card h3{font-family:"Nunito",sans-serif;font-size:1.08rem;font-weight:800;margin-bottom:.28rem;position:relative;z-index:1;}
.trail-card>p{color:var(--muted);font-size:.82rem;line-height:1.5;margin-bottom:1rem;position:relative;z-index:1;}
.t-pbar{height:5px;background:var(--bg3);border-radius:10px;margin-bottom:.5rem;overflow:hidden;position:relative;z-index:1;}
.t-pfill{height:100%;background:linear-gradient(90deg,var(--green),var(--blue));border-radius:10px;box-shadow:0 0 8px var(--glow);transition:width .8s ease;}
.t-foot{display:flex;justify-content:space-between;align-items:center;font-size:.74rem;color:var(--muted);position:relative;z-index:1;}
.t-xp{color:var(--green);font-weight:700;}

/* ─── TRAIL DETAIL ─── */
.td-hdr{max-width:820px;margin:0 auto;padding:2rem 1.5rem 0;}
.td-hdr h2{font-family:"Nunito",sans-serif;font-size:clamp(1.4rem,3vw,2rem);font-weight:900;letter-spacing:-.4px;margin-bottom:.3rem;}
.td-hdr>p{color:var(--muted);margin-bottom:1.2rem;}
.xp-chips{display:flex;gap:.65rem;flex-wrap:wrap;margin-bottom:1.8rem;}
.chip{display:flex;align-items:center;gap:.35rem;background:var(--bg3);border:1px solid var(--border);border-radius:8px;padding:.32rem .7rem;font-size:.77rem;}
.chip span:first-child{color:var(--muted);}
.chip span:last-child{color:var(--green);font-weight:700;}
.node-path{max-width:460px;margin:0 auto;padding:0 1.5rem 3rem;display:flex;flex-direction:column;align-items:center;}
.connector{width:2px;height:28px;border-left:2px dashed var(--border);margin:0;}
.connector.done{border-color:var(--green);}
.trail-node{display:flex;align-items:center;gap:1rem;width:100%;padding:.15rem 0;}
.ncircle{
  width:68px;height:68px;border-radius:50%;border:3px solid var(--border);
  background:var(--bg2);display:flex;align-items:center;justify-content:center;
  font-size:1.45rem;flex-shrink:0;position:relative;transition:border-color .3s,box-shadow .3s;
}
.trail-node.done .ncircle{border-color:var(--green);box-shadow:0 0 18px var(--glow);}
.trail-node.current .ncircle{border-color:var(--green);box-shadow:0 0 24px var(--glow);animation:pring 2.2s ease-in-out infinite;}
.trail-node.locked .ncircle{opacity:.38;}
@keyframes pring{0%,100%{box-shadow:0 0 18px var(--glow)}50%{box-shadow:0 0 42px var(--glow),0 0 70px var(--gdim)}}
.ncheck{position:absolute;bottom:-4px;right:-4px;width:20px;height:20px;border-radius:50%;background:var(--green);color:#0c1a0c;font-size:.58rem;display:flex;align-items:center;justify-content:center;font-weight:900;}
.diff-pip{position:absolute;top:-5px;left:-5px;font-size:.58rem;background:var(--amber);color:#0c1a0c;border-radius:6px;padding:.08rem .3rem;font-weight:900;white-space:nowrap;}
.diff-pip.hard{background:var(--red);color:#fff;}
.diff-pip.expert{background:#7c3aed;color:#fff;}
.ninfo{flex:1;min-width:0;}
.ninfo h4{font-family:"Nunito",sans-serif;font-size:.88rem;font-weight:800;margin-bottom:.15rem;}
.ninfo p{color:var(--muted);font-size:.74rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}
.nxp{font-size:.71rem;color:var(--green);font-weight:700;margin-top:.15rem;}
.nlocked{font-size:.71rem;color:var(--muted);margin-top:.15rem;}
.ndiff{font-size:.67rem;margin-top:.12rem;font-weight:700;}
.ndiff.easy{color:var(--green);}
.ndiff.med{color:var(--amber);}
.ndiff.hard,.ndiff.expert{color:var(--red);}
.nbtn{
  background:linear-gradient(135deg,var(--green),var(--gdark));color:#0c1a0c;
  border:none;border-radius:9px;padding:.38rem .85rem;
  font-family:"Nunito",sans-serif;font-size:.74rem;font-weight:800;
  cursor:pointer;transition:opacity .2s,transform .15s;white-space:nowrap;flex-shrink:0;
}
.nbtn:hover{opacity:.88;transform:translateY(-1px);}
.nbtn.dis{background:var(--bg3);color:var(--muted);cursor:not-allowed;transform:none;}

/* ─── ACTIVITY MODAL ─── */
.act-modal{
  background:var(--bg2);border:1px solid var(--border);border-radius:22px;
  max-width:550px;width:100%;padding:2rem;position:relative;
  animation:su .3s ease;max-height:92vh;overflow-y:auto;box-shadow:0 24px 64px var(--shadow);
}
.act-modal::-webkit-scrollbar{width:4px;}
.act-modal::-webkit-scrollbar-thumb{background:var(--border);}
.a-step{font-size:.7rem;color:var(--green);font-weight:800;margin-bottom:.65rem;letter-spacing:.12em;text-transform:uppercase;}
.diff-badge{display:inline-flex;align-items:center;gap:.3rem;padding:.18rem .6rem;border-radius:6px;font-size:.71rem;font-weight:800;margin-bottom:.65rem;}
.d-easy{background:#5DC26420;color:var(--green);border:1px solid var(--gdim);}
.d-med{background:#f59e0b20;color:var(--amber);border:1px solid #f59e0b44;}
.d-hard{background:#ef444420;color:var(--red);border:1px solid #ef444444;}
.d-expert{background:#7c3aed20;color:#9f7aea;border:1px solid #7c3aed44;}
.act-modal h3{font-family:"Nunito",sans-serif;font-size:1.2rem;font-weight:900;margin-bottom:.4rem;}
.act-desc{color:var(--muted);font-size:.85rem;line-height:1.65;margin-bottom:1.2rem;}
.quiz-q{font-weight:700;color:var(--text);margin-bottom:.75rem;font-size:.9rem;line-height:1.55;padding:.75rem;background:var(--bg3);border-radius:10px;border-left:3px solid var(--green);}
.quiz-opts{display:flex;flex-direction:column;gap:.5rem;margin-bottom:1.1rem;}
.qopt{
  display:flex;align-items:center;gap:.7rem;background:var(--bg3);
  border:1.5px solid var(--border);border-radius:11px;padding:.65rem .9rem;
  cursor:pointer;transition:all .2s;font-size:.86rem;
}
.qopt:hover{border-color:var(--gdim);background:var(--card);}
.qopt.correct{border-color:var(--green);background:#5DC26422;}
.qopt.wrong{border-color:var(--red);background:#ef444415;}
.oletter{
  width:26px;height:26px;border-radius:50%;background:var(--bg2);
  border:1.5px solid var(--border);display:flex;align-items:center;
  justify-content:center;font-size:.7rem;font-weight:800;flex-shrink:0;color:var(--muted);transition:all .2s;
}
.qopt.correct .oletter{background:var(--green);color:#0c1a0c;border-color:var(--green);}
.qopt.wrong .oletter{background:var(--red);color:#fff;border-color:var(--red);}
.mftr{display:flex;justify-content:space-between;align-items:center;gap:1rem;margin-top:.5rem;}
.m-xp-lbl{font-size:.78rem;color:var(--muted);white-space:nowrap;}
.m-xp-lbl strong{color:var(--green);}
.res-box{text-align:center;padding:.5rem 0;display:none;}
.res-box.show{display:block;}
.res-em{font-size:3rem;margin-bottom:.65rem;}
.res-box h4{font-family:"Nunito",sans-serif;font-size:1.12rem;font-weight:900;margin-bottom:.3rem;}
.res-box>p{color:var(--muted);font-size:.85rem;margin-bottom:1rem;}
.xp-earn{color:var(--green);font-size:1.4rem;font-weight:900;font-family:"Nunito",sans-serif;margin:.5rem 0;}
.res-acts{display:flex;gap:.65rem;justify-content:center;flex-wrap:wrap;margin-top:.8rem;}
.btn-retry{background:transparent;color:var(--text);border:1.5px solid var(--border);border-radius:10px;padding:.5rem 1.1rem;font-family:"Nunito",sans-serif;font-weight:800;font-size:.84rem;cursor:pointer;transition:border-color .2s,color .2s;}
.btn-retry:hover{border-color:var(--amber);color:var(--amber);}
.btn-newq{background:var(--blue);color:#fff;border:none;border-radius:10px;padding:.5rem 1.1rem;font-family:"Nunito",sans-serif;font-weight:800;font-size:.84rem;cursor:pointer;box-shadow:0 4px 12px var(--bglow);transition:opacity .2s,transform .15s;}
.btn-newq:hover{opacity:.88;transform:translateY(-1px);}
.btn-close-act{background:var(--green);color:#0c1a0c;border:none;border-radius:10px;padding:.5rem 1.2rem;font-family:"Nunito",sans-serif;font-weight:800;font-size:.84rem;cursor:pointer;transition:opacity .2s;}
.btn-close-act:hover{opacity:.88;}

/* ─── PROFILE ─── */
.prof-grid{max-width:900px;margin:1.8rem auto;padding:0 1.5rem 4rem;display:grid;grid-template-columns:270px 1fr;gap:1.3rem;align-items:start;}
.pcard{background:var(--card);border:1px solid var(--border);border-radius:18px;padding:1.5rem;}
.pavatar{width:80px;height:80px;border-radius:50%;background:linear-gradient(135deg,var(--green),var(--blue));display:flex;align-items:center;justify-content:center;font-size:2rem;margin:0 auto .85rem;border:3px solid var(--gdim);box-shadow:0 0 20px var(--glow);}
.pname{font-family:"Nunito",sans-serif;font-size:1.15rem;font-weight:900;text-align:center;}
.pemail{text-align:center;color:var(--muted);font-size:.78rem;margin-bottom:1.1rem;}
.pstat{display:flex;justify-content:space-between;align-items:center;padding:.5rem 0;border-bottom:1px solid var(--border);}
.pstat:last-of-type{border-bottom:none;}
.pstat-l{color:var(--muted);font-size:.81rem;}
.pstat-v{font-weight:700;font-size:.86rem;}
.pstat-v.g{color:var(--green);}
.plvlbar{margin-top:1rem;}
.plvlbar-lbl{display:flex;justify-content:space-between;font-size:.74rem;color:var(--muted);margin-bottom:.35rem;}
.plvlbar-track{height:6px;background:var(--bg3);border-radius:10px;overflow:hidden;}
.plvlbar-fill{height:100%;background:linear-gradient(90deg,var(--green),var(--blue));border-radius:10px;transition:width 1s ease;}
.pti{background:var(--bg3);border:1px solid var(--border);border-radius:12px;padding:.9rem 1.1rem;margin-bottom:.65rem;transition:border-color .2s;}
.pti:hover{border-color:var(--gdim);}
.pti-h{display:flex;justify-content:space-between;align-items:center;margin-bottom:.45rem;}
.pti-n{font-weight:700;font-size:.86rem;}
.pti-x{font-size:.74rem;color:var(--green);font-weight:700;}
.pti-b{height:4px;background:var(--bg2);border-radius:10px;overflow:hidden;}
.pti-bf{height:100%;background:linear-gradient(90deg,var(--green),var(--blue));border-radius:10px;}

/* ─── RESPONSIVE ─── */
@media(max-width:1024px){
  .feat-grid{grid-template-columns:repeat(2,1fr);}
  .trails-grid{grid-template-columns:repeat(2,1fr);}
  .ft-top{grid-template-columns:1fr 1fr;}
  .ft-brand{grid-column:1/-1;}
  .prof-grid{grid-template-columns:1fr;}
}
@media(max-width:768px){
  .nav-links{display:none;}
  .hamburger{display:flex;}
  .feat-grid,.trails-grid{grid-template-columns:1fr;}
  .ft-top{grid-template-columns:1fr;}
  .prof-grid{grid-template-columns:1fr;}
  .gring1,.gring2,.gring3{display:none;}
  .stats-row{flex-wrap:wrap;}
  .stat{min-width:44%;border-right:none;border-bottom:1px solid var(--border);}
  .stat:nth-child(2n){border-right:1px solid var(--border);}
  .stat:nth-last-child(-n+2){border-bottom:none;}
}
@media(max-width:480px){
  nav{padding:0 1rem;}
  .nav-logo img{height:38px;}
  .hero-logo-wrap img{height:115px;}
  .hero-ctas{flex-direction:column;align-items:center;width:100%;}
  .hero-ctas button{width:100%;max-width:300px;}
  .modal,.act-modal{padding:1.4rem;}
  .res-acts{flex-direction:column;align-items:stretch;}
  .res-acts button{width:100%;}
  h1{letter-spacing:-.8px;}
}
